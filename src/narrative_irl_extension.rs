/* Full implementation of narrative_irl_extension.rs goes here */